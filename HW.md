# Ответы на вопросы

**1. Зачем фильтровать матчи, если потом мы запускаем устойчивый к выбросам RANSAC и отфильтровываем шумные сопоставления?**

Чтобы при RANSAC не тратить время на выбросы, которые уже можем отфильтровать. Так будет больше вероятность выбрать нужные точки, к тому же эти выбросы не будут голосовать, что тоже повысит точность

**2. Cluster filtering довольно хорошо работает и без Ratio test. Однако, если оставить только Cluster filtering, некоторые тесты начнут падать. Почему так происходит? В каких случаях наоборот, не хватает Ratio test и необходима дополнительная фильтрация?**

Заметила, что при Cluster filtering + Ratio test больше визуально верных матчей (и вообще всех матчей), чем просто с Cluster filtering.

Проблема у Cluster filtering в том, что детали изображения могут повторяться, а значит их окрестности буду схожи. Это помешает избавиться от шумов, а Ratio test как раз сможет отфильтровать такие моменты. Но при этом, если не обращать внимания на окрестности, то Ratio test может оставлять одинокие заматченные точки, не подкрепленные окружением, которые будут шумами

**3. С какой проблемой можно столкнуться при приравнивании единице элемента H33 матрицы гомографии? Как ее решить?**

Кажется, это на лекции обсуждалось. У нас может быть точка, которая переходит в бесконечность. Значит, элемент H33 должен быть 0. Это решали с помощью SVD (так же упоминали, что можно попробовать приравнивать другие элементы нулю)

**4. Какой подвох таится в попытке склеивать большие панорамы и ортофото методом, реализованным в данной домашке? (Для интуиции можно посмотреть на результат склейки, когда за корень взята какая-нибудь другая картинка)**

Всё должно сниматься чётко под одним углом, без наклона. Иначе результат будет сильно зависеть от изначально выбранного кадра для склейки

**5. Как можно автоматически построить граф для построения панорамы, чтобы на вход метод принимал только список картинок?**

Тоже затрагивали на лекции. Можно построить полные граф, а затем выделить остовное дерево с максимальной суммой на рёбрах (там записано число матчей). Затем удалим это остовное дерево, и построим ещё одно, чтоб могли попасть тяжелые ребра, которые, возможно, упустили на первом шаге. Ещё, если у нас есть какая-нибудь метаинформация (точно знаем, что полки в магазине фотографировали последовательно или есть координаты съемки), то можно использовать её

**6. Если с вашей реализацией SIFT пройти тесты не получилось, напишите (если пробовали дебажить), где, как вам кажется, проблема и как вы пробовали ее решать.**

Мне кажется, что проблема в коэффициентах, но не получилось подобрать нужные. На самом деле даже без своей реализации SIFT коэффициенты не очень хорошие, потому что в двух тестах по времени заходит прям на грани. Заметила, что когда запускаю тесты и не трогаю компьютер, всё проходит, но когда что-то ещё делаю, начинают падать. Хотя, может, дело и не в коэффициентах, а в неэффективной реализации, но только изменяя коэффициенты получилось от 4 пройденных тестов дойти до всех

**7. Если есть, фидбек по заданию: какая часть больше всего понравилась, где-то слишком сложно/просто (что именно), где-то слишком мало ссылок и тд.**